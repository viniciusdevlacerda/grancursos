var Nucleos = function () {
    function e() {
        this.changeNucleos()
    }

    return e.prototype.changeNucleos = function () {
        var e = $("select[name='nucleos']");
        e.change(function () {
            var e = $(this).val();
            var t = $(this).attr('tipo');

            if (t=='polos') {
                var texto0800 = '<div class="margintop-20" style="text-align: center">\n' +
                    '                            <h4>Ligue para a Central de Relacionamento:</h4>\n' +
                    '                            <h3><strong>0800 602 6770</strong></h3>\n' +
                    '                        </div>';
            } else {
                var texto0800 = '<div class="margintop-20" style="text-align: center">\n' +
                    '                            <h4>Ligue para a Central de Relacionamento:</h4>\n' +
                    '                            <h3><strong>0800 604 2210</strong></h3>\n' +
                    '                        </div>';
            }
            $.ajax({
                url: "/request/get/polos-nucleos-nucleos/" + t + '/' + e, type: "get", beforeSend: function () {
                    var e = $("#list-data-address");
                    e.find("li").remove(), e.append($("<li/>").append($("<h3/>").text("Realizando busca...")).addClass("diferent"))
                }, complete: function (e) {
                    var n = $("#list-data-address"),
                        a = JSON.parse(atob(e.responseText)),
                        list = '';
                    n.find("li").remove(),
                        $.isEmptyObject(a) ?
                            list += texto0800
                            : $.each(a, function (e, a) {
                                list += '<li>'
                                    + '<h2>' + a.cidade.toUpperCase() + '</h2>'
                                    + '<p><strong>Instituição: </strong>' + a.instituicao + '</p>'
                                    + '<p><strong>Endereço: </strong>' + a.endereco + '</p>'
                                    + '<p><strong>CEP: </strong>' + a.cep + '</p>'
                                    + '<p><strong>Contato(s): </strong><br>' + a.contato.replace(/\//g, '<br>') + '</p>'
                                    + '</li>';
                            });
                    n.html(list);
                }
            })
        })
    }, e
}();
